lttng-regenerate(1)
===================
:revdate: 30 April 2021


NAME
----
lttng-regenerate - Regenerate specific data of an LTTng tracing session


SYNOPSIS
--------
Regenerate the metadata of a tracing session:

[verse]
*lttng* ['linkgenoptions:(GENERAL OPTIONS)'] *regenerate metadata* [option:--session='SESSION']

Regenerate the state dump event records of a tracing session:

[verse]
*lttng* ['linkgenoptions:(GENERAL OPTIONS)'] *regenerate statedump* [option:--session='SESSION']


DESCRIPTION
-----------
The `lttng regenerate` command regenerates specific data of:

With the option:--session='SESSION' option::
    The tracing session named 'SESSION'.

Without the option:--session option::
    The current tracing session (see man:lttng-concepts(7) to learn more
    about the current tracing session).

See man:lttng-concepts(7) to learn more about tracing sessions.

As of this version, the `metadata` and `statedump` targets are
available.


Regenerate the metadata of a tracing session
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Use the `metadata` target to resample the offset between the monotonic
clock and the wall time of the system, and then regenerate the metadata
stream files.

More specifically, you may want to resample the wall time
following a major
link:https://en.wikipedia.org/wiki/Network_Time_Protocol[NTP]
correction. As such, LTTng can trace a system booting with an incorrect
wall time before its wall time is NTP-corrected. Regenerating the
metadata of the selected tracing session ensures that trace readers can
accurately determine the event record timestamps relative to the
Unix epoch.

Note that if you plan to rotate (see man:lttng-concepts(7) to learn
more) the selected tracing session, this target only regenerates the
metadata stream files of the current and next trace chunks.

[IMPORTANT]
====
You can only use the `metadata` target when the selected
tracing session:

* Is not in live mode (nloption:--live option of
  man:lttng-create(1)).

* If it has user space channels, they're configured to use a
  per-user buffering scheme (nloption:--buffers-uid option of
  man:lttng-enable-channel(1)).
+
See man:lttng-concepts(7) to learn more about channels.
====


Regenerate the state dump event records of a tracing session
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Use the `statedump` target to collect up-to-date state dump information
and create corresponding event records.

This is particularly useful if the selected tracing session is in
snapshot mode (nloption:--snapshot option of man:lttng-create(1)) or if
LTTng rotates trace files for one of its channels (see
man:lttng-concepts(7)): in both cases, the state dump information may be
lost.


include::common-cmd-options-head.txt[]


option:-s 'SESSION', option:--session='SESSION'::
    Regenerate specific data of the tracing session named 'SESSION'
    instead of the current tracing session.


include::common-cmd-help-options.txt[]


include::common-cmd-footer.txt[]


SEE ALSO
--------
man:lttng(1),
man:lttng-concepts(7)
